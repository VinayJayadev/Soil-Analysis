2025-07-12 18:27:16,075 - pipeline - INFO - Pipeline started - Run ID: pipeline_20250712_182716
2025-07-12 18:27:16,075 - pipeline - INFO - Start time: 2025-07-12 18:27:16
2025-07-12 18:27:16,075 - pipeline - INFO - Pipeline initialized with run ID: pipeline_20250712_182716
2025-07-12 18:27:16,075 - pipeline - INFO - Starting geospatial soil analysis pipeline
2025-07-12 18:27:16,075 - pipeline - INFO - Configuration: {'data_file': 'data/eu_wosis_points.fgb', 'db_path': 'data/db/soil_analysis.db', 'output_dir': 'output', 'sampling_method': 'random', 'sample_size': 100, 'min_samples_per_country': 10, 'country_codes': None}
2025-07-12 18:27:16,075 - pipeline - INFO - Stage 1: Database Initialization
2025-07-12 18:27:16,075 - pipeline - INFO - Stage: Database Initialization - Creating database schema
2025-07-12 18:27:16,075 - pipeline - DEBUG - Stage 'Database Initialization' started at 18:27:16
2025-07-12 18:27:16,075 - pipeline - INFO - Database tables created successfully
2025-07-12 18:27:16,075 - pipeline - INFO - Database indexes created successfully
2025-07-12 18:27:16,075 - pipeline - INFO - Stage completed: Database Initialization (0.0s) - database: data\db\soil_analysis.db
2025-07-12 18:27:16,091 - pipeline - INFO - Database initialized successfully
2025-07-12 18:27:16,091 - pipeline - INFO - Stage 2: Data Loading
2025-07-12 18:27:16,091 - pipeline - INFO - Stage: Data Loading - Loading soil samples from data/eu_wosis_points.fgb
2025-07-12 18:27:16,091 - pipeline - DEBUG - Stage 'Data Loading' started at 18:27:16
2025-07-12 18:27:16,091 - pipeline - DEBUG - Loading soil samples from: data/eu_wosis_points.fgb
2025-07-12 18:27:16,229 - pipeline - DEBUG - Set CRS to EPSG:4326
2025-07-12 18:27:16,237 - pipeline - DEBUG - Parsing SOC% values from JSON format
2025-07-12 18:27:16,256 - pipeline - DEBUG - Estimating clay fraction based on SOC%
2025-07-12 18:27:16,259 - pipeline - DEBUG - Validating data quality
2025-07-12 18:27:16,260 - pipeline - WARNING - Found missing values: {'raw_data_id': 0, 'latitude': 0, 'longitude': 0, 'soc_percent': 0, 'soc_method': 0, 'top_depth_cm': 0, 'bottom_depth_cm': 0, 'sampling_date': 0, 'lab_analysis_date': 7012, 'clay_fraction': 0}
2025-07-12 18:27:16,262 - pipeline - DEBUG - Data validation completed
2025-07-12 18:27:16,263 - pipeline - INFO - Loaded 7,012 soil samples
2025-07-12 18:27:16,264 - pipeline - INFO - Successfully parsed 7,012 SOC% values
2025-07-12 18:27:16,270 - pipeline - INFO - SOC% range: 0.000% - 66.560%
2025-07-12 18:27:16,270 - pipeline - INFO - Mean SOC%: 1.688%
2025-07-12 18:27:16,272 - pipeline - INFO - Clay fraction range: 0.150 - 0.350
2025-07-12 18:27:16,272 - pipeline - INFO - Mean clay fraction: 0.186
2025-07-12 18:27:17,046 - pipeline - INFO - Loaded 7,012 records into soil_samples in 0.77s
2025-07-12 18:27:17,059 - pipeline - INFO - Stage completed: Data Loading (1.0s) - records: 7,012, duration: 1.0s, file: eu_wosis_points.fgb
2025-07-12 18:27:17,059 - pipeline - INFO - Loaded 7012 soil samples
2025-07-12 18:27:17,059 - pipeline - INFO - Stage 3: Overpass API Integration
2025-07-12 18:27:17,060 - pipeline - INFO - Starting country boundaries fetch from Overpass API
2025-07-12 18:27:17,060 - pipeline - DEBUG - Overpass query: [out:json][timeout:300];
(
relation["admin_level"="2"]["ISO3166-1"="AT"];
relation["admin_level"="2"]["ISO3166-1"="BE"];
relation["admin_level"="2"]["ISO3166-1"="BG"];
relation["admin_level"="2"]["ISO3166-1"="HR"];
relation["admin_level"="2"]["ISO3166-1"="CY"];
relation["admin_level"="2"]["ISO3166-1"="CZ"];
relation["admin_level"="2"]["ISO3166-1"="DK"];
relation["admin_level"="2"]["ISO3166-1"="EE"];
relation["admin_level"="2"]["ISO3166-1"="FI"];
relation["admin_level"="2"]["ISO3166-1"="FR"];
relation["admin_level"="2"]["ISO3166-1"="DE"];
relation["admin_level"="2"]["ISO3166-1"="GR"];
relation["admin_level"="2"]["ISO3166-1"="HU"];
relation["admin_level"="2"]["ISO3166-1"="IE"];
relation["admin_level"="2"]["ISO3166-1"="IT"];
relation["admin_level"="2"]["ISO3166-1"="LV"];
relation["admin_level"="2"]["ISO3166-1"="LT"];
relation["admin_level"="2"]["ISO3166-1"="LU"];
relation["admin_level"="2"]["ISO3166-1"="MT"];
relation["admin_level"="2"]["ISO3166-1"="NL"];
relation["admin_level"="2"]["ISO3166-1"="PL"];
relation["admin_level"="2"]["ISO3166-1"="PT"];
relation["admin_level"="2"]["ISO3166-1"="RO"];
relation["admin_level"="2"]["ISO3166-1"="SK"];
relation["admin_level"="2"]["ISO3166-1"="SI"];
relation["admin_level"="2"]["ISO3166-1"="ES"];
relation["admin_level"="2"]["ISO3166-1"="SE"];
);
out body;
>;
out skel qt;
2025-07-12 18:27:17,062 - pipeline - INFO - Making Overpass API request (attempt 1/3)
2025-07-12 18:27:23,874 - pipeline - INFO - Overpass API request successful
2025-07-12 18:27:25,215 - pipeline - INFO - Found 27 countries in Overpass response
2025-07-12 18:27:25,227 - pipeline - DEBUG - Created geometry for FR
2025-07-12 18:27:25,228 - pipeline - WARNING - Could not create geometry for SK
2025-07-12 18:27:25,228 - pipeline - DEBUG - Created geometry for AT
2025-07-12 18:27:25,229 - pipeline - WARNING - Could not create geometry for HU
2025-07-12 18:27:25,230 - pipeline - DEBUG - Created geometry for PL
2025-07-12 18:27:25,231 - pipeline - WARNING - Could not create geometry for DK
2025-07-12 18:27:25,232 - pipeline - DEBUG - Created geometry for DE
2025-07-12 18:27:25,232 - pipeline - DEBUG - Created geometry for CZ
2025-07-12 18:27:25,232 - pipeline - DEBUG - Created geometry for BE
2025-07-12 18:27:25,233 - pipeline - WARNING - Could not create geometry for SE
2025-07-12 18:27:25,233 - pipeline - WARNING - Could not create geometry for FI
2025-07-12 18:27:25,234 - pipeline - WARNING - Could not create geometry for IE
2025-07-12 18:27:25,235 - pipeline - WARNING - Could not create geometry for LV
2025-07-12 18:27:25,236 - pipeline - WARNING - Could not create geometry for LT
2025-07-12 18:27:25,236 - pipeline - WARNING - Could not create geometry for EE
2025-07-12 18:27:25,237 - pipeline - WARNING - Could not create geometry for RO
2025-07-12 18:27:25,237 - pipeline - WARNING - Could not create geometry for BG
2025-07-12 18:27:25,238 - pipeline - WARNING - Could not create geometry for GR
2025-07-12 18:27:25,238 - pipeline - WARNING - Could not create geometry for HR
2025-07-12 18:27:25,239 - pipeline - WARNING - Could not create geometry for SI
2025-07-12 18:27:25,239 - pipeline - WARNING - Could not create geometry for PT
2025-07-12 18:27:25,239 - pipeline - WARNING - Could not create geometry for CY
2025-07-12 18:27:25,240 - pipeline - WARNING - Could not create geometry for MT
2025-07-12 18:27:25,240 - pipeline - DEBUG - Created geometry for IT
2025-07-12 18:27:25,240 - pipeline - DEBUG - Created geometry for ES
2025-07-12 18:27:25,240 - pipeline - WARNING - Could not create geometry for LU
2025-07-12 18:27:25,241 - pipeline - DEBUG - Created geometry for NL
2025-07-12 18:27:25,242 - pipeline - INFO - Successfully created GeoDataFrame with 9 countries
2025-07-12 18:27:25,391 - pipeline - INFO - Saving 9 countries to database
2025-07-12 18:27:25,403 - pipeline - INFO - Loaded 9 records into countries in 0.01s
2025-07-12 18:27:25,407 - pipeline - INFO - Successfully saved 9 countries to database
2025-07-12 18:27:25,408 - pipeline - INFO - Fetched and saved 9 countries
2025-07-12 18:27:25,408 - pipeline - INFO - Stage 4: Spatial Association
2025-07-12 18:27:25,441 - pipeline - ERROR - Spatial association failed: Assigning CRS to a GeoDataFrame without a geometry column is not supported. Supply geometry using the 'geometry=' keyword argument, or by providing a DataFrame with column name 'geometry'
2025-07-12 18:27:25,444 - pipeline - INFO - Pipeline cleanup completed
